# User Flows

Core user journeys for the Simvado platform. Each flow maps to specific API endpoints (see 14_API_DESIGN.md) and UI screens.

## Flow 1: Individual Professional — Sign Up to First Simulation

```
1. LANDING PAGE (simvado.com)
   └─ User sees hero: "Leadership Training Evolved"
   └─ CTA: "Request Early Access"

2. SIGN UP (Clerk)
   └─ Email/password or Google/Microsoft OAuth
   └─ User created with role: individual, tier: free

3. ONBOARDING
   └─ Welcome screen: "Start with Boardroom Under Pressure"
   └─ Brief explanation of how the platform works
   └─ CTA: "Browse Simulations"

4. SIMULATION CATALOG (/simulations)
   └─ Grid of available simulations
   └─ Free badge on Module 1 (Activist Investor Showdown)
   └─ Pro badge on other modules (locked for free users)
   └─ Filters: category, skill, difficulty
   └─ Platform badge per module (Unreal, Unity, etc.)

5. SIMULATION DETAIL (/simulations/:slug)
   └─ Simulation overview, module list
   └─ Each module shows: platform badge, duration, difficulty
   └─ "Launch" button (if launchUrl configured) or "Coming Soon" badge
   └─ Narrative context and stakeholder profiles

6. LAUNCH SIMULATION (External Game Engine)
   └─ User clicks "Launch" → opens game engine application
   └─ Game engine creates session via POST /api/game/sessions
   └─ Player plays through simulation in game engine
   └─ Game engine reports events to Simvado API throughout gameplay
   └─ Game engine signals completion via POST /api/game/sessions/:id/complete

7. RESULTS (/sessions/:sessionId/results)
   └─ Multi-axis score visualization
   └─ Total score and grade
   └─ Comparison to peer average
   └─ Platform badge showing which engine was used

8. AI DEBRIEF (on results page)
   └─ Personalized analysis generated by Claude (5 sections)
   └─ "Browse More Simulations" link

9. UPGRADE PROMPT (for free users)
   └─ "Unlock the full simulation library for $79/month"
   └─ Stripe checkout flow
```

## Flow 2: Individual Professional — Dashboard & Progress

```
1. USER DASHBOARD (/dashboard)
   ├── Completed Simulations
   │   └─ List with scores, dates, grades
   │   └─ "Results" link → /sessions/:id/results
   ├── In-Progress Sessions
   │   └─ Status indicator (game engine reports progress)
   ├── Stats Cards
   │   └─ Completed count, in-progress count, subscription tier
   ├── Assigned Simulations (if enterprise participant)
   │   └─ Due dates, status
   └── Browse Simulations CTA
       └─ Link to /simulations catalog
```

## Flow 3: Enterprise Admin — Onboarding & Team Management

```
1. ENTERPRISE SIGN-UP
   └─ Sales-assisted or self-serve pilot purchase
   └─ Stripe checkout for pilot/standard/enterprise plan
   └─ Admin account created with role: enterprise_admin

2. ORGANIZATION SETUP
   └─ Org name, logo
   └─ Department creation (optional)
   └─ SSO configuration (enterprise plan only)

3. INVITE MEMBERS
   └─ Email invite list (bulk CSV or individual)
   └─ Assign department
   └─ Invited users receive email → sign up → auto-join org

4. ASSIGN SIMULATIONS
   └─ Select simulation from catalog
   └─ Select members or departments
   └─ Set due date (optional)
   └─ Members receive notification

5. ENTERPRISE DASHBOARD (/org/dashboard)
   ├── Seat Usage
   │   └─ X of Y seats used
   ├── Assignment Progress
   │   └─ % completed, % in progress, % not started
   ├── Team Scores
   │   └─ Average scores by department
   │   └─ Risk heatmap (lowest scoring dimensions)
   ├── Individual Detail
   │   └─ Click member → see their scores and sessions
   └── Export Reports
       └─ Download PDF or CSV of analytics
```

## Flow 4: Game Engine Integration — Developer Flow

```
1. API KEY GENERATION
   └─ Platform admin creates API key via admin panel
   └─ Key scoped to specific simulation (optional)
   └─ Key delivered securely to game development team

2. GAME ENGINE SETUP
   └─ Configure API base URL (https://simvado.com/api/game)
   └─ Configure API key in game engine build
   └─ Implement HTTP client for Simvado API calls

3. SESSION LIFECYCLE (In-Engine)
   └─ On launch: POST /api/game/sessions (creates session)
   └─ During gameplay:
   │   └─ POST /api/game/sessions/:id/events (decisions, milestones, scores)
   └─ On completion: POST /api/game/sessions/:id/complete (final scores)

4. TESTING
   └─ Use sandbox/staging API endpoint
   └─ Verify events appear in platform dashboard
   └─ Verify debrief generates correctly from game data

5. PUBLISH
   └─ Set module launchUrl on platform
   └─ QA full end-to-end flow (launch → play → results)
   └─ Publish simulation to catalog
```

## Flow 5: Platform Admin — Content Management

```
1. ADMIN CMS (/admin)
   └─ Login with platform_admin role

2. SIMULATION LIST
   └─ All simulations: draft, review, staged, published, archived
   └─ Create New Simulation button

3. CREATE/EDIT SIMULATION
   ├── Metadata
   │   └─ Title, description, category, difficulty, tags, thumbnail
   ├── Scoring Config
   │   └─ Set dimension weights (must sum to 1.0)
   ├── Modules
   │   └─ Create/edit modules
   │   └─ Set narrative context, stakeholders
   │   └─ Configure launchUrl and platform (Unreal/Unity/etc.)
   │   └─ Set build version
   ├── API Keys
   │   └─ Generate API key for game engine integration
   │   └─ Configure scopes and expiration
   └── Media Upload
       └─ Upload thumbnail, promotional images

4. VALIDATION & PUBLISH
   └─ Run automated validation (see 15_SIMULATION_SCHEMA.md checklist)
   └─ Verify game engine integration (test API key, event flow)
   └─ Publish to staged → test → publish to production
```

## Flow 6: Free Demo Funnel

```
LANDING PAGE
  └─ "Request Early Access" → create account
  └─ After account creation → access simulation catalog

FREE TIER
  └─ Access to 1 simulation from the library
  └─ Full scorecard + AI debrief
  └─ Catalog visible but other simulations locked
  └─ CTA: "Upgrade to Pro for unlimited access"

PRO TIER
  └─ Unlimited simulation library access
  └─ Full dashboard and progress tracking
  └─ All debriefs and analytics
```

## Screen Inventory (Phase 1)

| Screen | Route | Auth Required |
|--------|-------|---------------|
| Landing page | `/` | No |
| Pricing | `/pricing` | No |
| Sign up / Login | `/sign-in`, `/sign-up` | No (Clerk hosted) |
| Simulation catalog | `/simulations` | Yes |
| Simulation detail | `/simulations/:slug` | Yes |
| Session results | `/sessions/:sessionId/results` | Yes (session owner) |
| User dashboard | `/dashboard` | Yes |
| Enterprise dashboard | `/org/dashboard` | Enterprise admin |
| Enterprise analytics | `/org/analytics` | Enterprise admin |
| Admin CMS | `/admin` | Platform admin |
| Admin simulation editor | `/admin/simulations/:id` | Platform admin |
